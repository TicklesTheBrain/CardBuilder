[gd_scene load_steps=30 format=3 uid="uid://r545i10no8or"]

[ext_resource type="Script" path="res://game.gd" id="1_hbkeb"]
[ext_resource type="Script" path="res://cardAbstractions/deckManager.gd" id="3_8edax"]
[ext_resource type="Script" path="res://cardAbstractions/GenericResource.gd" id="3_c142g"]
[ext_resource type="PackedScene" uid="uid://d1lj52mw7mxay" path="res://card.tscn" id="3_kxrxo"]
[ext_resource type="Script" path="res://cardInterfaceStuff/CardDisplaySink.gd" id="3_lpmun"]
[ext_resource type="Script" path="res://cardEffects/peDraw.gd" id="4_eueqm"]
[ext_resource type="Script" path="res://cardInterfaceStuff/VariedPositionController.gd" id="4_u0guh"]
[ext_resource type="Script" path="res://cardInterfaceStuff/PlayAreaController.gd" id="5_fctuw"]
[ext_resource type="Script" path="res://cardAbstractions/emptyCardData.gd" id="5_fj00f"]
[ext_resource type="Script" path="res://cardInterfaceStuff/drawnCollisionShape.gd" id="6_53o6h"]
[ext_resource type="Script" path="res://cardAbstractions/containerCounter.gd" id="11_rgdhd"]
[ext_resource type="Script" path="res://cardAbstractions/cardContainer.gd" id="12_q8pst"]

[sub_resource type="Resource" id="Resource_0hun0"]
script = ExtResource("4_eueqm")
amountOfCardsToDraw = 1
effectName = ""
effectText = ""

[sub_resource type="Resource" id="Resource_m4wcd"]
script = ExtResource("5_fj00f")
amount = 1
cardTitle = ""
value = 1
type = "T"
cost = 1
cardText = ""
onPlayEffects = Array[Resource("res://cardEffects/playEffect.gd")]([SubResource("Resource_0hun0")])
modifiers = Array[Resource("res://cardAbstractions/cardModifier.gd")]([])

[sub_resource type="Resource" id="Resource_gyifl"]
script = ExtResource("4_eueqm")
amountOfCardsToDraw = 1
effectName = ""
effectText = ""

[sub_resource type="Resource" id="Resource_8e25i"]
script = ExtResource("5_fj00f")
amount = 1
cardTitle = ""
value = 11
type = "T"
cost = 1
cardText = ""
onPlayEffects = Array[Resource("res://cardEffects/playEffect.gd")]([SubResource("Resource_gyifl")])
modifiers = Array[Resource("res://cardAbstractions/cardModifier.gd")]([])

[sub_resource type="Resource" id="Resource_55yta"]
script = ExtResource("4_eueqm")
amountOfCardsToDraw = 1
effectName = ""
effectText = ""

[sub_resource type="Resource" id="Resource_gvj5l"]
script = ExtResource("5_fj00f")
amount = 1
cardTitle = ""
value = 3
type = "T"
cost = 1
cardText = ""
onPlayEffects = Array[Resource("res://cardEffects/playEffect.gd")]([SubResource("Resource_55yta")])
modifiers = Array[Resource("res://cardAbstractions/cardModifier.gd")]([])

[sub_resource type="Resource" id="Resource_6qdfj"]
script = ExtResource("4_eueqm")
amountOfCardsToDraw = 1
effectName = ""
effectText = ""

[sub_resource type="Resource" id="Resource_7uodm"]
script = ExtResource("5_fj00f")
amount = 1
cardTitle = ""
value = 4
type = "T"
cost = 1
cardText = ""
onPlayEffects = Array[Resource("res://cardEffects/playEffect.gd")]([SubResource("Resource_6qdfj")])
modifiers = Array[Resource("res://cardAbstractions/cardModifier.gd")]([])

[sub_resource type="Resource" id="Resource_ientq"]
script = ExtResource("4_eueqm")
amountOfCardsToDraw = 1
effectName = ""
effectText = ""

[sub_resource type="Resource" id="Resource_de6pr"]
script = ExtResource("5_fj00f")
amount = 1
cardTitle = ""
value = 5
type = "T"
cost = 1
cardText = ""
onPlayEffects = Array[Resource("res://cardEffects/playEffect.gd")]([SubResource("Resource_ientq")])
modifiers = Array[Resource("res://cardAbstractions/cardModifier.gd")]([])

[sub_resource type="Resource" id="Resource_lv74b"]
script = ExtResource("4_eueqm")
amountOfCardsToDraw = 1
effectName = ""
effectText = ""

[sub_resource type="Resource" id="Resource_o5036"]
script = ExtResource("5_fj00f")
amount = 1
cardTitle = ""
value = 6
type = "T"
cost = 1
cardText = ""
onPlayEffects = Array[Resource("res://cardEffects/playEffect.gd")]([SubResource("Resource_lv74b")])
modifiers = Array[Resource("res://cardAbstractions/cardModifier.gd")]([])

[sub_resource type="Resource" id="Resource_vh0jh"]
script = ExtResource("5_fj00f")
amount = 1
cardTitle = ""
value = 7
type = "T"
cost = 1
cardText = ""
onPlayEffects = Array[Resource("res://cardEffects/playEffect.gd")]([])
modifiers = Array[Resource("res://cardAbstractions/cardModifier.gd")]([])

[sub_resource type="Resource" id="Resource_3f51c"]
script = ExtResource("5_fj00f")
amount = 1
cardTitle = ""
value = 8
type = "T"
cost = 1
cardText = ""
onPlayEffects = Array[Resource("res://cardEffects/playEffect.gd")]([])
modifiers = Array[Resource("res://cardAbstractions/cardModifier.gd")]([])

[sub_resource type="Resource" id="Resource_o8fa0"]
script = ExtResource("5_fj00f")
amount = 1
cardTitle = ""
value = 9
type = "T"
cost = 1
cardText = ""
onPlayEffects = Array[Resource("res://cardEffects/playEffect.gd")]([])
modifiers = Array[Resource("res://cardAbstractions/cardModifier.gd")]([])

[sub_resource type="Resource" id="Resource_8srd1"]
script = ExtResource("5_fj00f")
amount = 3
cardTitle = ""
value = 10
type = "T"
cost = 1
cardText = ""
onPlayEffects = Array[Resource("res://cardEffects/playEffect.gd")]([])
modifiers = Array[Resource("res://cardAbstractions/cardModifier.gd")]([])

[sub_resource type="RectangleShape2D" id="RectangleShape2D_625ey"]
size = Vector2(947, 256.5)

[node name="game" type="Node2D" node_paths=PackedStringArray("deckManager", "enemyDeckManager", "handManager", "playAreaManager", "discardManager", "energy", "damageDealt", "damageSuffered", "messageLabel", "newCardMarker", "handPositionController")]
script = ExtResource("1_hbkeb")
deckManager = NodePath("DeckManager")
enemyDeckManager = NodePath("EnemyDeck")
handManager = NodePath("HandManager")
playAreaManager = NodePath("PlayAreaManager")
discardManager = NodePath("DiscardManager")
energy = NodePath("Energy")
damageDealt = NodePath("DamageDealt")
damageSuffered = NodePath("Damage Suffered")
messageLabel = NodePath("GridContainer/MessageContent")
cardDisplayPacked = ExtResource("3_kxrxo")
newCardMarker = NodePath("NewCardOrigin")
handPositionController = NodePath("HandCardDisplayController")

[node name="EnemyDeck" type="Node" parent="."]
script = ExtResource("3_8edax")
emptyCardArray = Array[ExtResource("5_fj00f")]([SubResource("Resource_m4wcd"), SubResource("Resource_8e25i"), SubResource("Resource_gvj5l"), SubResource("Resource_7uodm"), SubResource("Resource_de6pr"), SubResource("Resource_o5036"), SubResource("Resource_vh0jh"), SubResource("Resource_3f51c"), SubResource("Resource_o8fa0"), SubResource("Resource_8srd1"), SubResource("Resource_8e25i")])

[node name="Energy" type="Node" parent="." node_paths=PackedStringArray("debugLabel")]
script = ExtResource("3_c142g")
resourceName = "Energy"
resetAmount = 3
debugLabel = NodePath("../GridContainer/EnergyCounter")

[node name="DrawButton" type="Button" parent="."]
offset_left = 991.0
offset_top = 132.0
offset_right = 1081.0
offset_bottom = 163.0
text = "Draw Card"

[node name="EndButton" type="Button" parent="."]
offset_left = 992.0
offset_top = 176.0
offset_right = 1075.0
offset_bottom = 207.0
text = "End Hand
"

[node name="DiscardDisplayController" type="Node2D" parent="." node_paths=PackedStringArray("container", "positionMarker")]
script = ExtResource("3_lpmun")
container = NodePath("../DiscardManager")
animationTime = 0.5
positionMarker = NodePath("Marker2D")

[node name="Marker2D" type="Marker2D" parent="DiscardDisplayController"]
position = Vector2(1091, 319)

[node name="HandCardDisplayController" type="Node2D" parent="." node_paths=PackedStringArray("posCollections", "logicalContainer")]
script = ExtResource("4_u0guh")
posCollections = [NodePath("1Pos"), NodePath("2Pos"), NodePath("3Pos"), NodePath("4Pos"), NodePath("5Pos"), NodePath("6Pos"), NodePath("7Pos")]
logicalContainer = NodePath("../HandManager")

[node name="1Pos" type="Node2D" parent="HandCardDisplayController"]
visible = false

[node name="1_1" type="Marker2D" parent="HandCardDisplayController/1Pos"]
position = Vector2(588, 509)
metadata/_edit_group_ = true

[node name="2Pos" type="Node2D" parent="HandCardDisplayController"]
visible = false

[node name="1_2" type="Marker2D" parent="HandCardDisplayController/2Pos"]
position = Vector2(511, 507)
metadata/_edit_group_ = true

[node name="2_2" type="Marker2D" parent="HandCardDisplayController/2Pos"]
position = Vector2(669, 508)
metadata/_edit_group_ = true

[node name="3Pos" type="Node2D" parent="HandCardDisplayController"]
visible = false

[node name="1_3" type="Marker2D" parent="HandCardDisplayController/3Pos"]
position = Vector2(466, 505)
metadata/_edit_group_ = true

[node name="2_3" type="Marker2D" parent="HandCardDisplayController/3Pos"]
position = Vector2(624, 506)
metadata/_edit_group_ = true

[node name="3_3" type="Marker2D" parent="HandCardDisplayController/3Pos"]
position = Vector2(781, 506)
metadata/_edit_group_ = true

[node name="4Pos" type="Node2D" parent="HandCardDisplayController"]
visible = false

[node name="1_4" type="Marker2D" parent="HandCardDisplayController/4Pos"]
position = Vector2(408, 506)
metadata/_edit_group_ = true

[node name="2_4" type="Marker2D" parent="HandCardDisplayController/4Pos"]
position = Vector2(566, 507)
metadata/_edit_group_ = true

[node name="3_4" type="Marker2D" parent="HandCardDisplayController/4Pos"]
position = Vector2(723, 507)
metadata/_edit_group_ = true

[node name="4_4" type="Marker2D" parent="HandCardDisplayController/4Pos"]
position = Vector2(878, 507)
metadata/_edit_group_ = true

[node name="5Pos" type="Node2D" parent="HandCardDisplayController"]
visible = false

[node name="1_5" type="Marker2D" parent="HandCardDisplayController/5Pos"]
position = Vector2(311, 505)
metadata/_edit_group_ = true

[node name="2_5" type="Marker2D" parent="HandCardDisplayController/5Pos"]
position = Vector2(469, 506)
metadata/_edit_group_ = true

[node name="3_5" type="Marker2D" parent="HandCardDisplayController/5Pos"]
position = Vector2(626, 506)
metadata/_edit_group_ = true

[node name="4_5" type="Marker2D" parent="HandCardDisplayController/5Pos"]
position = Vector2(781, 506)
metadata/_edit_group_ = true

[node name="5_5" type="Marker2D" parent="HandCardDisplayController/5Pos"]
position = Vector2(938, 507)
metadata/_edit_group_ = true

[node name="6Pos" type="Node2D" parent="HandCardDisplayController"]
visible = false

[node name="1_6" type="Marker2D" parent="HandCardDisplayController/6Pos"]
position = Vector2(191, 505)
metadata/_edit_group_ = true

[node name="2_6" type="Marker2D" parent="HandCardDisplayController/6Pos"]
position = Vector2(349, 506)
metadata/_edit_group_ = true

[node name="3_6" type="Marker2D" parent="HandCardDisplayController/6Pos"]
position = Vector2(506, 506)
metadata/_edit_group_ = true

[node name="4_6" type="Marker2D" parent="HandCardDisplayController/6Pos"]
position = Vector2(661, 506)
metadata/_edit_group_ = true

[node name="5_6" type="Marker2D" parent="HandCardDisplayController/6Pos"]
position = Vector2(818, 507)
metadata/_edit_group_ = true

[node name="6_6" type="Marker2D" parent="HandCardDisplayController/6Pos"]
position = Vector2(973, 508)
metadata/_edit_group_ = true

[node name="7Pos" type="Node2D" parent="HandCardDisplayController"]
visible = false

[node name="1_7" type="Marker2D" parent="HandCardDisplayController/7Pos"]
position = Vector2(121, 509)
metadata/_edit_group_ = true

[node name="2_7" type="Marker2D" parent="HandCardDisplayController/7Pos"]
position = Vector2(279, 510)
metadata/_edit_group_ = true

[node name="3_7" type="Marker2D" parent="HandCardDisplayController/7Pos"]
position = Vector2(436, 510)
metadata/_edit_group_ = true

[node name="4_7" type="Marker2D" parent="HandCardDisplayController/7Pos"]
position = Vector2(591, 510)
metadata/_edit_group_ = true

[node name="5_7" type="Marker2D" parent="HandCardDisplayController/7Pos"]
position = Vector2(748, 511)
metadata/_edit_group_ = true

[node name="6_7" type="Marker2D" parent="HandCardDisplayController/7Pos"]
position = Vector2(903, 512)
metadata/_edit_group_ = true

[node name="7_7" type="Marker2D" parent="HandCardDisplayController/7Pos"]
position = Vector2(1059, 513)
metadata/_edit_group_ = true

[node name="NewCardOrigin" type="Marker2D" parent="."]
position = Vector2(585, 880)

[node name="PlayArea" type="Area2D" parent="." node_paths=PackedStringArray("positionController", "shape")]
script = ExtResource("5_fctuw")
positionController = NodePath("PlayAreaPositionController")
shape = NodePath("Shape")

[node name="PlayAreaPositionController" type="Node2D" parent="PlayArea" node_paths=PackedStringArray("posCollections", "logicalContainer")]
script = ExtResource("4_u0guh")
posCollections = [NodePath("1Pos"), NodePath("2Pos"), NodePath("3Pos"), NodePath("4Pos"), NodePath("5Pos"), NodePath("6Pos"), NodePath("7Pos")]
logicalContainer = NodePath("../../PlayAreaManager")

[node name="1Pos" type="Node2D" parent="PlayArea/PlayAreaPositionController"]

[node name="1_1" type="Marker2D" parent="PlayArea/PlayAreaPositionController/1Pos"]
position = Vector2(483, 156)
metadata/_edit_group_ = true

[node name="2Pos" type="Node2D" parent="PlayArea/PlayAreaPositionController"]

[node name="1_2" type="Marker2D" parent="PlayArea/PlayAreaPositionController/2Pos"]
position = Vector2(406, 154)
metadata/_edit_group_ = true

[node name="2_2" type="Marker2D" parent="PlayArea/PlayAreaPositionController/2Pos"]
position = Vector2(564, 155)
metadata/_edit_group_ = true

[node name="3Pos" type="Node2D" parent="PlayArea/PlayAreaPositionController"]

[node name="1_3" type="Marker2D" parent="PlayArea/PlayAreaPositionController/3Pos"]
position = Vector2(361, 152)
metadata/_edit_group_ = true

[node name="2_3" type="Marker2D" parent="PlayArea/PlayAreaPositionController/3Pos"]
position = Vector2(519, 153)
metadata/_edit_group_ = true

[node name="3_3" type="Marker2D" parent="PlayArea/PlayAreaPositionController/3Pos"]
position = Vector2(676, 153)
metadata/_edit_group_ = true

[node name="4Pos" type="Node2D" parent="PlayArea/PlayAreaPositionController"]

[node name="1_4" type="Marker2D" parent="PlayArea/PlayAreaPositionController/4Pos"]
position = Vector2(303, 153)
metadata/_edit_group_ = true

[node name="2_4" type="Marker2D" parent="PlayArea/PlayAreaPositionController/4Pos"]
position = Vector2(461, 154)
metadata/_edit_group_ = true

[node name="3_4" type="Marker2D" parent="PlayArea/PlayAreaPositionController/4Pos"]
position = Vector2(618, 154)
metadata/_edit_group_ = true

[node name="4_4" type="Marker2D" parent="PlayArea/PlayAreaPositionController/4Pos"]
position = Vector2(773, 154)
metadata/_edit_group_ = true

[node name="5Pos" type="Node2D" parent="PlayArea/PlayAreaPositionController"]

[node name="1_5" type="Marker2D" parent="PlayArea/PlayAreaPositionController/5Pos"]
position = Vector2(206, 152)
metadata/_edit_group_ = true

[node name="2_5" type="Marker2D" parent="PlayArea/PlayAreaPositionController/5Pos"]
position = Vector2(364, 153)
metadata/_edit_group_ = true

[node name="3_5" type="Marker2D" parent="PlayArea/PlayAreaPositionController/5Pos"]
position = Vector2(521, 153)
metadata/_edit_group_ = true

[node name="4_5" type="Marker2D" parent="PlayArea/PlayAreaPositionController/5Pos"]
position = Vector2(676, 153)
metadata/_edit_group_ = true

[node name="5_5" type="Marker2D" parent="PlayArea/PlayAreaPositionController/5Pos"]
position = Vector2(833, 154)
metadata/_edit_group_ = true

[node name="6Pos" type="Node2D" parent="PlayArea/PlayAreaPositionController"]

[node name="1_6" type="Marker2D" parent="PlayArea/PlayAreaPositionController/6Pos"]
position = Vector2(86, 152)
metadata/_edit_group_ = true

[node name="2_6" type="Marker2D" parent="PlayArea/PlayAreaPositionController/6Pos"]
position = Vector2(244, 153)
metadata/_edit_group_ = true

[node name="3_6" type="Marker2D" parent="PlayArea/PlayAreaPositionController/6Pos"]
position = Vector2(401, 153)
metadata/_edit_group_ = true

[node name="4_6" type="Marker2D" parent="PlayArea/PlayAreaPositionController/6Pos"]
position = Vector2(556, 153)
metadata/_edit_group_ = true

[node name="5_6" type="Marker2D" parent="PlayArea/PlayAreaPositionController/6Pos"]
position = Vector2(713, 154)
metadata/_edit_group_ = true

[node name="6_6" type="Marker2D" parent="PlayArea/PlayAreaPositionController/6Pos"]
position = Vector2(868, 155)
metadata/_edit_group_ = true

[node name="7Pos" type="Node2D" parent="PlayArea/PlayAreaPositionController"]

[node name="1_7" type="Marker2D" parent="PlayArea/PlayAreaPositionController/7Pos"]
position = Vector2(16, 156)
metadata/_edit_group_ = true

[node name="2_7" type="Marker2D" parent="PlayArea/PlayAreaPositionController/7Pos"]
position = Vector2(174, 157)
metadata/_edit_group_ = true

[node name="3_7" type="Marker2D" parent="PlayArea/PlayAreaPositionController/7Pos"]
position = Vector2(331, 157)
metadata/_edit_group_ = true

[node name="4_7" type="Marker2D" parent="PlayArea/PlayAreaPositionController/7Pos"]
position = Vector2(486, 157)
metadata/_edit_group_ = true

[node name="5_7" type="Marker2D" parent="PlayArea/PlayAreaPositionController/7Pos"]
position = Vector2(643, 158)
metadata/_edit_group_ = true

[node name="6_7" type="Marker2D" parent="PlayArea/PlayAreaPositionController/7Pos"]
position = Vector2(798, 159)
metadata/_edit_group_ = true

[node name="7_7" type="Marker2D" parent="PlayArea/PlayAreaPositionController/7Pos"]
position = Vector2(954, 160)
metadata/_edit_group_ = true

[node name="Shape" type="CollisionShape2D" parent="PlayArea"]
position = Vector2(492, 149)
shape = SubResource("RectangleShape2D_625ey")
script = ExtResource("6_53o6h")

[node name="DeckManager" type="Node" parent="."]
script = ExtResource("3_8edax")
emptyCardArray = Array[ExtResource("5_fj00f")]([SubResource("Resource_m4wcd"), SubResource("Resource_8e25i"), SubResource("Resource_gvj5l"), SubResource("Resource_7uodm"), SubResource("Resource_de6pr"), SubResource("Resource_o5036"), SubResource("Resource_vh0jh"), SubResource("Resource_3f51c"), SubResource("Resource_o8fa0"), SubResource("Resource_8srd1"), SubResource("Resource_8e25i")])

[node name="DeckCounter" type="Node" parent="DeckManager" node_paths=PackedStringArray("label")]
script = ExtResource("11_rgdhd")
label = NodePath("../../GridContainer/DeckCounter")
countSubject = 1

[node name="HandManager" type="Node" parent="." node_paths=PackedStringArray("feedContainer")]
script = ExtResource("12_q8pst")
maxCards = 7
feedContainer = NodePath("../DiscardManager")

[node name="PlayAreaManager" type="Node" parent="." node_paths=PackedStringArray("bustCounter")]
script = ExtResource("12_q8pst")
maxCards = 6
bustCounter = NodePath("ValueCounter")
addTriggerType = 1

[node name="ValueCounter" type="Node" parent="PlayAreaManager" node_paths=PackedStringArray("label")]
script = ExtResource("11_rgdhd")
label = NodePath("../../GridContainer/PlayAreaCounter")

[node name="DiscardManager" type="Node" parent="."]
script = ExtResource("12_q8pst")

[node name="AmountCounter" type="Node" parent="DiscardManager" node_paths=PackedStringArray("label")]
script = ExtResource("11_rgdhd")
bustValue = -1
label = NodePath("../../GridContainer/DiscardCounter")
countSubject = 1

[node name="GridContainer" type="GridContainer" parent="."]
offset_left = 27.0
offset_top = 292.0
offset_right = 959.0
offset_bottom = 332.0
columns = 8

[node name="Deck" type="Label" parent="GridContainer"]
layout_mode = 2
text = "Deck
"

[node name="DeckCounter" type="Label" parent="GridContainer"]
layout_mode = 2
theme_override_colors/font_color = Color(0.756863, 0.129412, 0.164706, 1)
text = "13"

[node name="Energy" type="Label" parent="GridContainer"]
layout_mode = 2
text = "Energy"

[node name="EnergyCounter" type="Label" parent="GridContainer"]
layout_mode = 2
text = "3"

[node name="PV" type="Label" parent="GridContainer"]
layout_mode = 2
text = "Play Value"

[node name="PlayAreaCounter" type="Label" parent="GridContainer"]
layout_mode = 2
text = "666"

[node name="Message" type="Label" parent="GridContainer"]
layout_mode = 2

[node name="MessageContent" type="Label" parent="GridContainer"]
layout_mode = 2
text = "Message Content"

[node name="Discard" type="Label" parent="GridContainer"]
layout_mode = 2
text = "Discard"

[node name="DiscardCounter" type="Label" parent="GridContainer"]
layout_mode = 2
text = "0"

[node name="Dealt" type="Label" parent="GridContainer"]
layout_mode = 2
text = "Dealt"

[node name="DealtCounter" type="Label" parent="GridContainer"]
layout_mode = 2
text = "0"

[node name="Suffered" type="Label" parent="GridContainer"]
layout_mode = 2
text = "Suffered"

[node name="SufferedCounter" type="Label" parent="GridContainer"]
layout_mode = 2
text = "0"

[node name="DamageDealt" type="Node" parent="." node_paths=PackedStringArray("debugLabel")]
script = ExtResource("3_c142g")
resourceName = "Dealt"
debugLabel = NodePath("../GridContainer/DealtCounter")

[node name="Damage Suffered" type="Node" parent="." node_paths=PackedStringArray("debugLabel")]
script = ExtResource("3_c142g")
resourceName = "suffered"
debugLabel = NodePath("../GridContainer/SufferedCounter")

[connection signal="button_down" from="DrawButton" to="." method="drawFromDeckToHand"]
[connection signal="button_down" from="EndButton" to="." method="endHand"]
[connection signal="area_entered" from="PlayArea" to="PlayArea" method="_on_area_entered"]
[connection signal="area_exited" from="PlayArea" to="PlayArea" method="_on_area_exited"]
